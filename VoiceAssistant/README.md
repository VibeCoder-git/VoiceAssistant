# Голосовой ассистент "Джарвис" (Windows)

Легковесный, быстрый и приватный голосовой помощник для Windows. Слушает всегда, активируется по фразе "Джарвис", выполняет команды молниеносно.

## Особенности
- **Локальная активация**: Использует Whisper (tiny/base) для детекции слова "Джарвис". Никакой аудиопоток не уходит в облако до активации.
- **Быстрый ответ**: Использует Google Streaming STT с interim results для мгновенного выполнения команд.
- **Портативность**: Работает из папки, не требует установки (кроме .NET 8 Runtime).
- **Навыки (Skills)**: Легкое добавление команд через JSON.

## Требования
- Windows 10/11
- .NET 8 Runtime
- Микрофон

## Установка и Запуск

1. **Распаковка**: Распакуйте архив с программой в удобное место (например `C:\Jarvis`).
2. **Ключ Google**:
   - Положите файл ключа `google-stt.json` (Service Account Key) рядом с `VoiceAssistant.App.exe`.
3. **Запуск**:
   - Запустите `VoiceAssistant.App.exe`.
   - В трее появится иконка.
   - При первом запуске скачается модель Whisper (около 75 МБ).

## Использование

1. Скажите: **"Джарвис открой браузер"**.
2. Ассистент должен открыть пустую страницу в браузере по умолчанию.

### Настройка
Основные настройки находятся в `appsettings.json`, но работают "из коробки".
- **Выбор микрофона**: Правой кнопкой по иконке в трее -> `Select input device...`.

### Добавление команд
Создайте папку в `skills/` (например `skills/my_command/`) и файл `manifest.json`:
```json
{
  "id": "my_command",
  "phrases": ["сделай дело", "запусти процесс"],
  "action": {
    "type": "open_url",
    "args": { "url": "https://google.com" }
  },
  "responseSound": "assets/ok.wav"
}
```
Затем нажмите `Reload skills` в меню трея.

### Автозапуск
Для включения автозапуска запустите скрипт `setup_autostart.ps1` (PowerShell).

## Решение проблем
- **Не слышит**: Проверьте микрофон в настройках Windows и в меню приложения.
- **Лог**: Файлы логов находятся в папке `logs/`.
- **Ошибка Google**: Убедитесь, что `google-stt.json` валиден и API Speech-to-Text включено в Google Cloud Console.

## Разработчику
- Проект: VS Solution `.NET 8`.
- Аудио: 16kHz Mono 16-bit.
- Ядро: State Machine (IDLE -> ACTIVE -> EXECUTE).
